import{s as f}from"./api.u-GyJUGh.js";function w(){const t=document.querySelector(".gift-backdrop");t&&t.classList.add("open"),document.getElementById("gift-modal").classList.add("open")}function i(){const t=document.querySelector(".gift-backdrop");t&&t.classList.remove("open"),document.getElementById("gift-modal").classList.remove("open")}function p(t){const e=document.createElement("div");e.textContent=t,Object.assign(e.style,{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"#fff",padding:"10px 20px",borderRadius:"25px",maxWidth:"100%",zIndex:"2100",pointerEvents:"none",opacity:"1",transition:"opacity 0.5s ease"}),document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),500)},2e3)}async function I(t,e,n,c){var l,r;event.stopPropagation&&event.stopPropagation();const o=t.closest(".gift-card"),a=o.dataset.giftId,g=((l=o.querySelector(".gift-desc"))==null?void 0:l.textContent.trim())||"",y=((r=o.querySelector(".gift-price"))==null?void 0:r.textContent.trim())||"",s=n;try{const d={userId:e.userId,candidateId:s,giftId:a,message:`üéâ –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä! –£–≤–µ—Ä–µ–Ω, —ç—Ç–æ –ø—Ä–æ–∏–∑–≤–µ–¥—ë—Ç –æ—Ç–ª–∏—á–Ω–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ.
–í—ã –≤—ã–±—Ä–∞–ª–∏ –ø–æ–¥–∞—Ä–æ–∫: ${g} ‚Äî ${y}`},b={reply_markup:{inline_keyboard:[[{text:"–û–ø–ª–∞—Ç–∏—Ç—å",callback_data:`pay_${a}_${s}`}],[{text:"–û—Ç–º–µ–Ω–∞",callback_data:"cancel_special"}]]}};d.keyboard=b,f(d)}catch(d){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ specialPush:",d)}i(),p("–û—Ç–ø—Ä–∞–≤–∏–ª–∏ –ü—É—à")}function u(t,e){const n=document.getElementById("gift-detail-btn");n&&n.addEventListener("click",c=>{c.stopPropagation();const o=[`–ù–∞—à–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–Ω–∞–∫–æ–º–∏—Ç –≤–∞—Å –Ω–µ —Ç–æ–ª—å–∫–æ –æ–Ω–ª–∞–π–Ω, –Ω–æ –∏ –¥–∞—Ä–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —ç–º–æ—Ü–∏–∏! üéÅ
–ú—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞–º–∏ –ø–æ–¥–∞—Ä–æ–∫ –Ω–∞–ø—Ä—è–º—É—é –≤–∞—à–µ–º—É —Å–æ—Å–µ–¥—É: –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∞–¥—Ä–µ—Å ‚Äî –º—ã –≤—Å—ë –æ—Ä–≥–∞–Ω–∏–∑—É–µ–º –∏ –¥–æ—Å—Ç–∞–≤–∏–º –≤–∞—à –ø—Ä–µ–∑–µ–Ω—Ç —Ç–æ—á–Ω–æ –≤ —Ä—É–∫–∏.
–ü–µ—Ä–µ–¥ –¥–æ—Å—Ç–∞–≤–∫–æ–π –≤—ã—à–ª–µ–º —Ñ–æ—Ç–æ-–æ—Ç—á—ë—Ç üì∏, –∞ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–º –≤—Ä—É—á–µ–Ω–∏–µ.
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫ ‚Äî –≤–µ—Ä–Ω—ë–º –¥–µ–Ω—å–≥–∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤.
`].join(`

`),a={reply_markup:{inline_keyboard:[[{text:"–ó–∞–∫–∞–∑–∞—Ç—å",callback_data:"order_now"}],[{text:"–û—Ç–º–µ–Ω–∞",callback_data:"cancel_special"}]]}};f({userId:t.userId,message:o,keyboard:a})})}let m=null;function k(t){m=t}function _(){return m}function x(t,e){const n=document.getElementById("gift-modal-close");n&&n.addEventListener("click",i),u(t)}window.showGiftModal=w;window.hideGiftModal=i;window.showToast=p;window.handleGiftOrder=I;window.setupGiftDetailBtn=u;window.setSelectedCandidateId=k;window.getSelectedCandidateId=_;window.initGiftModal=x;export{w as s};
