window.MOCK_MODE=!0;console.log("üé≠ Mock API: –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω");const d=[{id:"UserID",name:"Username",age:25,gender:"male",city:"–ú–æ—Å–∫–≤–∞",about:"–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",photos:["/public/img/logo.svg"],interests:["–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞"],distance:0,lastLogin:new Date().toISOString()},{id:"TEST_U1",name:"–ê–Ω–Ω–∞",age:25,gender:"female",city:"–ú–æ—Å–∫–≤–∞",about:"–õ—é–±–ª—é –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö. –í –ø–æ–∏—Å–∫–∞—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ –∏ –Ω–æ–≤—ã—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π.",photos:["/data/img/TEST_U1/photo1.jpg","/data/img/TEST_U1/photo2.jpg","/data/img/TEST_U1/photo3.jpg"],interests:["–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è","–°–ø–æ—Ä—Ç","–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è"],distance:1.2,badge:"L",lastLogin:new Date().toISOString()},{id:"TEST_U2",name:"–ú–∞—Ä–∏—è",age:28,gender:"female",city:"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",about:"–§–æ—Ç–æ–≥—Ä–∞—Ñ –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º, –∏—Å–∫–∞—Ç–µ–ª—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –≤ –¥—É—à–µ. –õ—é–±–ª—é –≥–æ—Ä—ã –∏ –∑–∞–∫–∞—Ç—ã.",photos:["/data/img/TEST_U2/photo1.jpg","/data/img/TEST_U2/photo2.jpg","/data/img/TEST_U2/photo3.jpg"],interests:["–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è","–ì–æ—Ä—ã","–í–µ–ª–æ—Å–ø–æ—Ä—Ç"],distance:2.5,badge:"P",lastLogin:new Date().toISOString()},{id:"TEST_U3",name:"–î–∞—Ä—å—è",age:23,gender:"female",city:"–ö–∞–∑–∞–Ω—å",about:"–õ—é–±–ª—é –≥–æ—Ç–æ–≤–∏—Ç—å –∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é –∫—É—Ö–Ω—é –∏ –∫–∞—Ç–∞—Ç—å—Å—è –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ. –ò—â—É —Ç–æ–≥–æ, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç –º–æ–∏ —É–≤–ª–µ—á–µ–Ω–∏—è.",photos:["/data/img/TEST_U3/photo1.jpg","/data/img/TEST_U3/photo2.jpg","/data/img/TEST_U3/photo3.jpg"],interests:["–ö—É–ª–∏–Ω–∞—Ä–∏—è","–í–µ–ª–æ—Å–ø–æ—Ä—Ç","–ò—Ç–∞–ª–∏—è"],distance:.8,badge:"S",lastLogin:new Date().toISOString()},{id:"TEST_U4",name:"–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞",age:27,gender:"female",city:"–°–æ—á–∏",about:"–ü–ª—è–∂–∏, –º–æ—Ä–µ –∏ —Å–æ–ª–Ω—Ü–µ - –º–æ—è —Å—Ç–∏—Ö–∏—è. –ò—â—É —Ç–∞–∫–æ–≥–æ –∂–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.",photos:["/data/img/TEST_U4/photo1.jpg","/data/img/TEST_U4/photo2.jpg","/data/img/TEST_U4/photo3.jpg"],interests:["–ü–ª—è–∂–Ω—ã–π –≤–æ–ª–µ–π–±–æ–ª","–î–∞–π–≤–∏–Ω–≥","–§–∏—Ç–Ω–µ—Å"],distance:5.3,badge:"L",lastLogin:new Date().toISOString()},{id:"TEST_U5",name:"–û–ª—å–≥–∞",age:30,gender:"female",city:"–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥",about:"–ò—â—É —Å–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–æ–π —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º—å–∏. –¶–µ–Ω—é —á–µ—Å—Ç–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.",photos:["/data/img/TEST_U5/photo1.jpg","/data/img/TEST_U5/photo2.jpg","/data/img/TEST_U5/photo3.jpg"],interests:["–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞","–ö–∏–Ω–æ","–ü—Ä–æ–≥—É–ª–∫–∏"],distance:3.1,badge:"P",lastLogin:new Date().toISOString()},{id:"TEST_U6",name:"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞",age:26,gender:"female",city:"–ú–æ—Å–∫–≤–∞",about:"–î–∏–∑–∞–π–Ω–µ—Ä –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤. –õ—é–±–ª—é –∏—Å–∫—É—Å—Å—Ç–≤–æ, –≤—ã—Å—Ç–∞–≤–∫–∏ –∏ —É—é—Ç–Ω—ã–µ –≤–µ—á–µ—Ä–∞ —Å —Ö–æ—Ä–æ—à–µ–π –∫–Ω–∏–≥–æ–π.",photos:["/data/img/TEST_U6/photo1.jpg","/data/img/TEST_U6/photo2.jpg","/data/img/TEST_U6/photo3.jpg"],interests:["–î–∏–∑–∞–π–Ω","–ò—Å–∫—É—Å—Å—Ç–≤–æ","–ß—Ç–µ–Ω–∏–µ"],distance:1.8,badge:"S",lastLogin:new Date().toISOString()},{id:"TEST_U7",name:"–í–∏–∫—Ç–æ—Ä–∏—è",age:24,gender:"female",city:"–ú–æ—Å–∫–≤–∞",about:"–°—Ç—É–¥–µ–Ω—Ç–∫–∞ –ú–ì–£, —É—á—É—Å—å –Ω–∞ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–µ –∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∏. –ú–µ—á—Ç–∞—é —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ç–µ–ª–µ–≤–∏–¥–µ–Ω–∏–∏.",photos:["/data/img/TEST_U7/photo1.jpg","/data/img/TEST_U7/photo2.jpg","/data/img/TEST_U7/photo3.jpg"],interests:["–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞","–ö–∏–Ω–æ","–¢–µ–∞—Ç—Ä"],distance:.5,lastLogin:new Date().toISOString()},{id:"TEST_U8",name:"–ù–∞—Ç–∞–ª—å—è",age:29,gender:"female",city:"–ú–æ—Å–∫–≤–∞",about:"–í—Ä–∞—á-–∫–∞—Ä–¥–∏–æ–ª–æ–≥. –ò—â—É –Ω–∞–¥–µ–∂–Ω–æ–≥–æ, –¥–æ–±—Ä–æ–≥–æ –∏ –∑–∞–±–æ—Ç–ª–∏–≤–æ–≥–æ –º—É–∂—á–∏–Ω—É –¥–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π.",photos:["/data/img/TEST_U8/photo1.jpg","/data/img/TEST_U8/photo2.jpg","/data/img/TEST_U8/photo3.jpg"],interests:["–ú–µ–¥–∏—Ü–∏–Ω–∞","–ó–û–ñ","–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è"],distance:2.2,lastLogin:new Date().toISOString()},{id:"TEST_U9",name:"–°–≤–µ—Ç–ª–∞–Ω–∞",age:31,gender:"female",city:"–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",about:"–õ—é–±–ª—é —Ç–µ–∞—Ç—Ä, –∫–Ω–∏–≥–∏ –∏ —É—é—Ç–Ω—ã–µ –≤–µ—á–µ—Ä–∞.",photos:["/data/img/TEST_U9/photo1.jpg","/data/img/TEST_U9/photo2.jpg","/data/img/TEST_U9/photo3.jpg"],interests:["–¢–µ–∞—Ç—Ä","–ö–Ω–∏–≥–∏","–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è"],distance:4.2,lastLogin:new Date().toISOString()}];let f=6,p={};try{const e=localStorage.getItem("mockSuperLikes");e&&(p=JSON.parse(e))}catch{p={}}function m(e){return d.find(s=>s.telegramId===e)}const g={};window.currentUser||(window.currentUser={id:"current",userId:"current",name:"–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",gender:"male",age:25,bio:"–ü—Ä–∏–≤–µ—Ç! –Ø –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.",photos:[],lastLogin:new Date().toISOString()});function h(e){return g[e]||(g[e]=[]),g[e]}d.forEach(e=>{if(h(String(e.id)),e.id.startsWith("TEST_U")){const s=parseInt(e.id.replace("TEST_U",""));s>=1&&s<=5&&h("UserID").push(String(e.id))}});const S=["UserID","current","6"];S.forEach(e=>{h(e),d.slice(0,5).forEach(s=>{g[e].includes(String(s.id))||g[e].push(String(s.id))})});window.mockApi={async register(e){if(m(e.telegramId))return{success:!1,error:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º Telegram ID —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"};const n={id:f++,...e,isPro:!1,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};return d.push(n),{success:!0,user:{id:n.id,name:n.name,gender:n.gender,age:n.age,city:n.city,isPro:n.isPro,needPhoto:n.needPhoto||0,photos:n.photos||[]},token:`mock-jwt-token-${n.id}`}},async login(e){let s=d.find(n=>n.telegramId===e);return s||(s={id:"current",userId:"current",telegramId:e,name:`User${d.length+1}`,age:25,gender:"male",bio:"–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",photos:[],needPhoto:0},d.push(s)),window.currentUser=s,h(s.userId),{success:!0,user:{...s},token:"mock-jwt-token",isNew:!1}},async checkRegistration(e){const s=m(e);return s?{success:!0,registered:!0,user:{id:s.id,name:s.name,gender:s.gender,age:s.age,city:s.city,isPro:s.isPro,needPhoto:s.needPhoto||0,photos:s.photos||[]},token:`mock-jwt-token-${s.id}`}:{success:!1,registered:!1}},async getCandidates(){const e=window.currentUser,s=e.gender==="male"?"female":"male";return{success:!0,data:d.filter(t=>t.gender===s&&t.id!==e.id).map(t=>({...t,bio:t.about||""}))}},async sendLike(e){var t,o,r;const s=((t=window.currentUser)==null?void 0:t.id)||((o=window.currentUser)==null?void 0:o.userId)||"current";return h(s),h(e),g[e].includes(s)||g[e].push(s),{success:!0,isMatch:((r=g[s])==null?void 0:r.includes(e))||!1}},async sendDislike(e){return{success:!0}},async sendSuperLike(e,s){if(p[e]||(p[e]=[]),!p[e].includes(s)){p[e].push(s);try{localStorage.setItem("mockSuperLikes",JSON.stringify(p))}catch{}}return{success:!0,message:"–°—É–ø–µ—Ä–ª–∞–π–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω"}},async getMatches(e){const s=p[e]||[],n=g[e]||[],t=[];for(const o of n){if(o===e)continue;if((g[o]||[]).includes(e)){const i=d.find(a=>String(a.id)===o);if(i){const a=s.includes(o),c=i.photos&&i.photos[0]?i.photos[0]:"/img/photo.svg";t.push({id:i.id,userId:i.id,name:i.name,age:i.age,bio:i.bio||"",photo:c,avatar:c,badge:i.badge||"",superLikeStatus:a?"sent":void 0,isMutual:!0})}}}for(const o of s){if(t.some(i=>i.userId===o))continue;const r=(g[o]||[]).includes(e);if(!n.includes(o)&&r){const i=d.find(a=>String(a.id)===o);if(i){const a=i.photos&&i.photos[0]?i.photos[0]:"/img/photo.svg";t.push({id:i.id,userId:i.id,name:i.name,age:i.age,bio:i.bio||"",photo:a,avatar:a,badge:i.badge||"",superLikeStatus:"pending",isMutual:!1})}}}return{success:!0,data:t}},async getLikesReceived(){var t,o;const e=((t=window.currentUser)==null?void 0:t.id)||((o=window.currentUser)==null?void 0:o.userId)||"current";h(e);const n=(g[e]||[]).map(r=>{var a;const i=d.find(c=>String(c.id)===r);return i?{id:i.id,name:i.name,age:i.age,photo:((a=i.photos)==null?void 0:a[0])||"",bio:i.about||"",distance:i.distance||0,badge:i.badge||""}:null}).filter(Boolean);return{success:!0,count:n.length,likes:n}},async getLastLogin(e){const s=d.find(n=>String(n.id)===e);return s?{success:!0,lastLogin:s.lastLogin}:{success:!1,error:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"}},async getGoals(e){const s=["–°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è","–î—Ä—É–∂–±–∞","–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è","–°–ø–æ—Ä—Ç","–ú—É–∑—ã–∫–∞","–ö–∏–Ω–æ","–ö–Ω–∏–≥–∏","–ö—É–ª–∏–Ω–∞—Ä–∏—è","–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è","–ò—Å–∫—É—Å—Å—Ç–≤–æ"],n=Math.floor(Math.random()*2)+2,t=[],o=[...s].sort(()=>.5-Math.random());for(let r=0;r<n&&r<o.length;r++)t.push(o[r]);return{success:!0,goals:t}},async updateProfile(e){const s=d.findIndex(t=>String(t.id)===String(e.userId)||String(t.userId)===String(e.userId));if(s===-1)return console.warn("‚ö†Ô∏è Mock API: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è:",e.userId),{success:!1,error:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"};const n=d[s];return e.gender!==void 0&&(n.gender=e.gender),e.bio!==void 0&&(n.about=e.bio),e.age!==void 0&&(n.age=e.age),e.photos!==void 0&&(n.photos=e.photos),e.goals!==void 0&&(n.goals=e.goals),{success:!0,message:"–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω"}}};const w=window.fetch;window.fetch=async function(e,s={}){if(!e.includes("/api/")&&!e.includes("localhost:3002/api"))return w.call(this,e,s);if(e.includes("localhost:3002/api/candidates"))try{const n=await window.mockApi.getCandidates();return{ok:!0,status:200,headers:{get:t=>t==="content-type"?"application/json":null},json:async()=>n}}catch(n){return console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:",n),{ok:!1,status:500,headers:{get:t=>t==="content-type"?"application/json":null},json:async()=>({success:!1,error:"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤"})}}if(e.includes("/api/last-login/"))try{const t=new URL(e,window.location.origin).pathname.split("/api/last-login/")[1],o=await window.mockApi.getLastLogin(t);return{ok:!0,status:200,headers:{get:r=>r==="content-type"?"application/json":null},json:async()=>o}}catch(n){return console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞:",n),{ok:!1,status:500,headers:{get:t=>t==="content-type"?"application/json":null},json:async()=>({success:!1,error:"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞"})}}if(e.includes("/api/user")&&!e.includes("/api/users/")){const t=new URL(e,window.location.origin).searchParams.get("userId"),o=d.find(r=>String(r.id)===String(t));return o?{ok:!0,status:200,headers:{get:r=>r==="content-type"?"application/json":null},json:async()=>{var r,i,a;return{success:!0,data:{id:o.id,name:o.name,age:o.age,bio:o.about||"",badge:o.badge||"",photo1:((r=o.photos)==null?void 0:r[0])||"",photo2:((i=o.photos)==null?void 0:i[1])||"",photo3:((a=o.photos)==null?void 0:a[2])||""}}}}:{ok:!1,status:404,headers:{get:r=>r==="content-type"?"application/json":null},json:async()=>({success:!1,error:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"})}}if(e.includes("/api/users/join"))try{const n=s.body?JSON.parse(s.body):null,t={id:n.userId,userId:n.userId,name:n.name,username:n.username||"",photoUrl:n.photoUrl||"/img/logo.svg",gender:n.gender||"",bio:n.bio||"",age:0,photos:[],likes:[],dislikes:[],is_pro:!1,super_likes_count:3,needPhoto:0};return d.push(t),h(n.userId),{ok:!0,status:200,headers:{get:o=>o==="content-type"?"application/json":null},json:async()=>({success:!0,user:{userId:t.userId,name:t.name,username:t.username,photoUrl:t.photoUrl,gender:t.gender,bio:t.bio,registered:!0}})}}catch(n){return console.error("‚ùå Mock API: –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:",n),{ok:!1,status:500,headers:{get:t=>t==="content-type"?"application/json":null},json:async()=>({success:!1,error:"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"})}}try{const n=new URL(e,window.location.origin);let t=n.pathname;e.includes("localhost:3002/api")&&(t=n.pathname.replace("/api",""));const o=(s.method||"GET").toUpperCase(),r=s.body?JSON.parse(s.body):null;let i;try{if(t.endsWith("/register")&&o==="POST")i=await window.mockApi.register(r);else if(t.endsWith("/login")&&o==="POST")i=await window.mockApi.login(r.telegramId);else if(t.endsWith("/check-registration")&&o==="POST")i=await window.mockApi.checkRegistration(r.telegramId);else if(t.endsWith("/candidates")&&o==="GET")i=await window.mockApi.getCandidates();else if(t.endsWith("/like")&&o==="POST")i=await window.mockApi.sendLike(r.toUser);else if(t.endsWith("/dislike")&&o==="POST")i=await window.mockApi.sendDislike(r.toUser);else if(t.endsWith("/superlike")&&o==="POST")i=await window.mockApi.sendSuperLike(r.senderId,r.receiverId);else if(t.endsWith("/matches")&&o==="GET"){const c=new URL(e,window.location.origin).searchParams.get("userId");i=await window.mockApi.getMatches(c)}else if(t.endsWith("/likesReceived")&&o==="GET"){const c=new URL(e,window.location.origin).searchParams.get("userId");i=await window.mockApi.getLikesReceived(c)}else if(t.startsWith("/last-login/")&&o==="GET"){const a=t.split("/last-login/")[1];i=await window.mockApi.getLastLogin(a)}else if(t.endsWith("/goals")&&o==="GET"){const c=new URL(e,window.location.origin).searchParams.get("userId");i=await window.mockApi.getGoals(c)}else if(t.endsWith("/updateProfile")&&o==="POST")i=await window.mockApi.updateProfile(r);else if(t.endsWith("/matches")&&o==="DELETE"){let a;r&&r.userId?a=r.userId:a=new URL(e,window.location.origin).searchParams.get("userId");const c=r&&r.matchId,l=d.find(u=>String(u.id)===String(a)||String(u.userId)===String(a));l&&Array.isArray(l.likes)&&(l.likes=l.likes.filter(u=>String(u)!==String(c))),l&&Array.isArray(l.dislikes)&&(l.dislikes.includes(c)||l.dislikes.push(c)),g[a]&&(g[a]=g[a].filter(u=>String(u)!==String(c))),i=await window.mockApi.getMatches(a)}else if(t.endsWith("/like")&&o==="DELETE"){const a=r&&(r.fromUser||r.userId),c=r&&(r.toUser||r.matchId),l=d.find(u=>String(u.id)===String(a)||String(u.userId)===String(a));l&&Array.isArray(l.likes)&&(l.likes=l.likes.filter(u=>String(u)!==String(c))),g[a]&&(g[a]=g[a].filter(u=>String(u)!==String(c))),i={success:!0}}else return console.warn(`‚ö†Ô∏è Mock API: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç: ${t}`),Promise.resolve({ok:!1,status:404,headers:{get:a=>a==="content-type"?"application/json":null},json:async()=>({success:!1,error:"–≠–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –º–æ–∫-API"})})}catch(a){return console.error("‚ùå Mock API: –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞:",a),Promise.resolve({ok:!1,status:500,headers:{get:c=>c==="content-type"?"application/json":null},json:async()=>({success:!1,error:"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ Mock API"})})}return Promise.resolve({ok:!0,status:200,headers:{get:a=>a==="content-type"?"application/json":null},json:async()=>i})}catch(n){return console.error("‚ùå Mock API: –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞:",n),Promise.resolve({ok:!1,status:500,json:async()=>({success:!1,error:"–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ Mock API"})})}};window.mockApi=mockApi;
