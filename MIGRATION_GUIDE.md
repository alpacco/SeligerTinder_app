# üöÄ –ë—ã—Å—Ç—Ä–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Railway Volume

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Railway Volume

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Railway Dashboard](https://railway.app)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Settings** ‚Üí **Volumes**
3. –ù–∞–∂–º–∏—Ç–µ **"Create Volume"**:
   - **Name**: `data-volume`
   - **Mount Path**: `/data`
   - **Size**: `10 GB` (–∏–ª–∏ –±–æ–ª—å—à–µ, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ)

## –®–∞–≥ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
cd /Users/dmitryalexeev/sta-black-master

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
brew install railway

# –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
railway login

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–∏–≥—Ä–∞—Ü–∏—é
export RAILWAY_SERVICE=web  # –ò–ª–∏ –∏–º—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
./scripts/upload_to_railway.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–∑–¥–∞—Å—Ç –∞—Ä—Ö–∏–≤ –¥–∞–Ω–Ω—ã—Ö
2. –ó–∞–≥—Ä—É–∑–∏—Ç –µ–≥–æ –Ω–∞ Railway
3. –†–∞—Å–ø–∞–∫—É–µ—Ç –≤ `/data`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## –®–∞–≥ 3: –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±:

### –®–∞–≥ 3.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞

```bash
cd /Users/dmitryalexeev/sta-black-master
./scripts/migrate_to_railway.sh
```

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –∞—Ä—Ö–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ `/tmp/data-backup-*.tar.gz`

### –®–∞–≥ 3.2: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Railway

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Railway CLI

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
brew install railway

# 2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
railway login

# 3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link

# 4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ Railway
railway run --service <your-service-name> bash

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Railway:
cd /tmp
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ —á–µ—Ä–µ–∑ base64 –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway Dashboard ‚Üí Deployments ‚Üí Upload Files
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Railway Dashboard

1. Railway Dashboard ‚Üí –í–∞—à —Å–µ—Ä–≤–∏—Å ‚Üí **Deployments** ‚Üí **View Logs**
2. –ù–∞–π–¥–∏—Ç–µ –æ–ø—Ü–∏—é **Upload Files** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Terminal**
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ `data-backup-*.tar.gz`

## –®–∞–≥ 4: –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Railway
railway shell

# –ò–ª–∏ —á–µ—Ä–µ–∑ railway run
railway run --service <service-name> --command "cd /data && tar -xzf /tmp/data-backup-*.tar.gz"
```

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
railway run --service <service-name> --command "find /data/img -type f | wc -l"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
railway run --service <service-name> --command "du -sh /data/*"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤
railway run --service <service-name> --command "ls -la /data/img | head -10"
```

## –ß—Ç–æ –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è

- ‚úÖ `/data/img/` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `/data/giftimg/` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–æ–≤  
- ‚úÖ `/data/log/` - –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ù–ï –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è:**
- ‚ùå `tinder.db` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL
- ‚ùå `gift.bd` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: Python —Å–∫—Ä–∏–ø—Ç

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Railway —Å–µ—Ä–≤–µ—Ä—É:

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ Railway
railway run --service <service-name> --command "cat > /tmp/migrate.py" < python_backend/migrate_data_to_railway.py

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
railway run --service <service-name> --command "python /tmp/migrate.py --source /tmp/data --target /data"
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–∞–∑–º–µ—Ä Volume**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞–∑–º–µ—Ä –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–í—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏**: –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–º–∞
3. **–ë—ç–∫–∞–ø**: –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Volume –Ω–µ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Volume —Å–æ–∑–¥–∞–Ω –≤ —Ç–æ–º –∂–µ —Ä–µ–≥–∏–æ–Ω–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Mount Path = `/data`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä Volume —á–µ—Ä–µ–∑ Dashboard
- –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ `/data`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

## –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `/data/log`
4. ‚úÖ –£–¥–∞–ª–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)

